/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
// tslint:disable:no-input-rename component-selector
import { Component, Input, ViewChild, Renderer2, ElementRef } from '@angular/core';
/** @type {?} */
var jsbarcode = require('jsbarcode');
var NgxBarcode6Component = /** @class */ (function () {
    function NgxBarcode6Component(renderer) {
        this.renderer = renderer;
        this.elementType = 'svg';
        this.cssClass = 'barcode'; // this should be done more elegantly
        // this should be done more elegantly
        this.format = 'CODE128';
        this.lineColor = '#000000';
        this.width = 2;
        this.height = 100;
        this.displayValue = false;
        this.fontOptions = '';
        this.font = 'monospace';
        this.textAlign = 'center';
        this.textPosition = 'bottom';
        this.textMargin = 2;
        this.fontSize = 20;
        this.background = '#ffffff';
        this.margin = 10;
        this.marginTop = 10;
        this.marginBottom = 10;
        this.marginLeft = 10;
        this.marginRight = 10;
        this.value = '';
        this.valid = (/**
         * @return {?}
         */
        function () { return true; });
    }
    Object.defineProperty(NgxBarcode6Component.prototype, "options", {
        get: /**
         * @return {?}
         */
        function () {
            return {
                format: this.format,
                lineColor: this.lineColor,
                width: this.width,
                height: this.height,
                displayValue: this.displayValue,
                fontOptions: this.fontOptions,
                font: this.font,
                textAlign: this.textAlign,
                textPosition: this.textPosition,
                textMargin: this.textMargin,
                fontSize: this.fontSize,
                background: this.background,
                margin: this.margin,
                marginTop: this.marginTop,
                marginBottom: this.marginBottom,
                marginLeft: this.marginLeft,
                marginRight: this.marginRight,
                valid: this.valid,
            };
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    NgxBarcode6Component.prototype.ngOnChanges = /**
     * @return {?}
     */
    function () {
        this.createBarcode();
    };
    /**
     * @return {?}
     */
    NgxBarcode6Component.prototype.createBarcode = /**
     * @return {?}
     */
    function () {
        var e_1, _a;
        if (!this.value) {
            return;
        }
        /** @type {?} */
        var element;
        switch (this.elementType) {
            case 'img':
                element = this.renderer.createElement('img');
                break;
            case 'canvas':
                element = this.renderer.createElement('canvas');
                break;
            case 'svg':
            default:
                element = this.renderer.createElement('svg', 'svg');
        }
        jsbarcode(element, this.value, this.options);
        try {
            for (var _b = tslib_1.__values(this.bcElement.nativeElement.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {
                var node = _c.value;
                this.renderer.removeChild(this.bcElement.nativeElement, node);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        this.renderer.appendChild(this.bcElement.nativeElement, element);
    };
    NgxBarcode6Component.decorators = [
        { type: Component, args: [{
                    selector: 'ngx-barcode6',
                    template: "<div #bcElement [class]=\"cssClass\"></div>"
                }] }
    ];
    /** @nocollapse */
    NgxBarcode6Component.ctorParameters = function () { return [
        { type: Renderer2 }
    ]; };
    NgxBarcode6Component.propDecorators = {
        elementType: [{ type: Input, args: ['bc-element-type',] }],
        cssClass: [{ type: Input, args: ['bc-class',] }],
        format: [{ type: Input, args: ['bc-format',] }],
        lineColor: [{ type: Input, args: ['bc-line-color',] }],
        width: [{ type: Input, args: ['bc-width',] }],
        height: [{ type: Input, args: ['bc-height',] }],
        displayValue: [{ type: Input, args: ['bc-display-value',] }],
        fontOptions: [{ type: Input, args: ['bc-font-options',] }],
        font: [{ type: Input, args: ['bc-font',] }],
        textAlign: [{ type: Input, args: ['bc-text-align',] }],
        textPosition: [{ type: Input, args: ['bc-text-position',] }],
        textMargin: [{ type: Input, args: ['bc-text-margin',] }],
        fontSize: [{ type: Input, args: ['bc-font-size',] }],
        background: [{ type: Input, args: ['bc-background',] }],
        margin: [{ type: Input, args: ['bc-margin',] }],
        marginTop: [{ type: Input, args: ['bc-margin-top',] }],
        marginBottom: [{ type: Input, args: ['bc-margin-bottom',] }],
        marginLeft: [{ type: Input, args: ['bc-margin-left',] }],
        marginRight: [{ type: Input, args: ['bc-margin-right',] }],
        value: [{ type: Input, args: ['bc-value',] }],
        bcElement: [{ type: ViewChild, args: ['bcElement', { static: true },] }],
        valid: [{ type: Input, args: ['bc-valid',] }]
    };
    return NgxBarcode6Component;
}());
export { NgxBarcode6Component };
if (false) {
    /** @type {?} */
    NgxBarcode6Component.prototype.elementType;
    /** @type {?} */
    NgxBarcode6Component.prototype.cssClass;
    /** @type {?} */
    NgxBarcode6Component.prototype.format;
    /** @type {?} */
    NgxBarcode6Component.prototype.lineColor;
    /** @type {?} */
    NgxBarcode6Component.prototype.width;
    /** @type {?} */
    NgxBarcode6Component.prototype.height;
    /** @type {?} */
    NgxBarcode6Component.prototype.displayValue;
    /** @type {?} */
    NgxBarcode6Component.prototype.fontOptions;
    /** @type {?} */
    NgxBarcode6Component.prototype.font;
    /** @type {?} */
    NgxBarcode6Component.prototype.textAlign;
    /** @type {?} */
    NgxBarcode6Component.prototype.textPosition;
    /** @type {?} */
    NgxBarcode6Component.prototype.textMargin;
    /** @type {?} */
    NgxBarcode6Component.prototype.fontSize;
    /** @type {?} */
    NgxBarcode6Component.prototype.background;
    /** @type {?} */
    NgxBarcode6Component.prototype.margin;
    /** @type {?} */
    NgxBarcode6Component.prototype.marginTop;
    /** @type {?} */
    NgxBarcode6Component.prototype.marginBottom;
    /** @type {?} */
    NgxBarcode6Component.prototype.marginLeft;
    /** @type {?} */
    NgxBarcode6Component.prototype.marginRight;
    /** @type {?} */
    NgxBarcode6Component.prototype.value;
    /** @type {?} */
    NgxBarcode6Component.prototype.bcElement;
    /** @type {?} */
    NgxBarcode6Component.prototype.valid;
    /**
     * @type {?}
     * @private
     */
    NgxBarcode6Component.prototype.renderer;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWJhcmNvZGU2LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25neC1iYXJjb2RlNi8iLCJzb3VyY2VzIjpbImxpYi9uZ3gtYmFyY29kZTYuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNFLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFhLFNBQVMsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDOztJQUl4RixTQUFTLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUV0QztJQXVERSw4QkFBb0IsUUFBbUI7UUFBbkIsYUFBUSxHQUFSLFFBQVEsQ0FBVztRQWhEYixnQkFBVyxHQUE2QixLQUFLLENBQUM7UUFDckQsYUFBUSxHQUFHLFNBQVMsQ0FBQyxDQUFDLHFDQUFxQzs7UUFFMUQsV0FBTSxHQUNtRixTQUFTLENBQUM7UUFDL0YsY0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixVQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ1QsV0FBTSxHQUFHLEdBQUcsQ0FBQztRQUNOLGlCQUFZLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLGdCQUFXLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLFNBQUksR0FBRyxXQUFXLENBQUM7UUFDYixjQUFTLEdBQUcsUUFBUSxDQUFDO1FBQ2xCLGlCQUFZLEdBQUcsUUFBUSxDQUFDO1FBQzFCLGVBQVUsR0FBRyxDQUFDLENBQUM7UUFDakIsYUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNiLGVBQVUsR0FBRyxTQUFTLENBQUM7UUFDM0IsV0FBTSxHQUFHLEVBQUUsQ0FBQztRQUNSLGNBQVMsR0FBRyxFQUFFLENBQUM7UUFDWixpQkFBWSxHQUFHLEVBQUUsQ0FBQztRQUNwQixlQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ2YsZ0JBQVcsR0FBRyxFQUFFLENBQUM7UUFDeEIsVUFBSyxHQUFHLEVBQUUsQ0FBQztRQUVYLFVBQUs7OztRQUFrQixjQUFNLE9BQUEsSUFBSSxFQUFKLENBQUks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a0JBQWtCOzZCQUN4QixLQUFLLFNBQUMsZ0JBQWdCOzJCQUN0QixLQUFLLFNBQUMsY0FBYzs2QkFDcEIsS0FBSyxTQUFDLGVBQWU7eUJBQ3JCLEtBQUssU0FBQyxXQUFXOzRCQUNqQixLQUFLLFNBQUMsZUFBZTsrQkFDckIsS0FBSyxTQUFDLGtCQUFrQjs2QkFDeEIsS0FBSyxTQUFDLGdCQUFnQjs4QkFDdEIsS0FBSyxTQUFDLGlCQUFpQjt3QkFDdkIsS0FBSyxTQUFDLFVBQVU7NEJBQ2hCLFNBQVMsU0FBQyxXQUFXLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO3dCQUN2QyxLQUFLLFNBQUMsVUFBVTs7SUF1RG5CLDJCQUFDO0NBQUEsQUFyRkQsSUFxRkM7U0FoRlksb0JBQW9COzs7SUFFL0IsMkNBQXdFOztJQUN4RSx3Q0FBd0M7O0lBRXhDLHNDQUN1SDs7SUFDdkgseUNBQThDOztJQUM5QyxxQ0FBNkI7O0lBQzdCLHNDQUFpQzs7SUFDakMsNENBQWdEOztJQUNoRCwyQ0FBMkM7O0lBQzNDLG9DQUFxQzs7SUFDckMseUNBQTZDOztJQUM3Qyw0Q0FBbUQ7O0lBQ25ELDBDQUF3Qzs7SUFDeEMsd0NBQXFDOztJQUNyQywwQ0FBK0M7O0lBQy9DLHNDQUFnQzs7SUFDaEMseUNBQXVDOztJQUN2Qyw0Q0FBNkM7O0lBQzdDLDBDQUF5Qzs7SUFDekMsMkNBQTJDOztJQUMzQyxxQ0FBOEI7O0lBQzlCLHlDQUFnRTs7SUFDaEUscUNBQXFEOzs7OztJQXlCekMsd0NBQTJCIiwic291cmNlc0NvbnRlbnQiOlsiICAvLyB0c2xpbnQ6ZGlzYWJsZTpuby1pbnB1dC1yZW5hbWUgY29tcG9uZW50LXNlbGVjdG9yXG4gIGltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uQ2hhbmdlcywgVmlld0NoaWxkLCBSZW5kZXJlcjIsIEVsZW1lbnRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuICBkZWNsYXJlIHZhciByZXF1aXJlOiBhbnk7XG5cbiAgY29uc3QganNiYXJjb2RlID0gcmVxdWlyZSgnanNiYXJjb2RlJyk7XG5cbiAgQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICduZ3gtYmFyY29kZTYnLFxuICAgIHRlbXBsYXRlOiBgPGRpdiAjYmNFbGVtZW50IFtjbGFzc109XCJjc3NDbGFzc1wiPjwvZGl2PmAsXG4gICAgc3R5bGVzOiBbXVxuICB9KVxuICBleHBvcnQgY2xhc3MgTmd4QmFyY29kZTZDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xuXG4gICAgQElucHV0KCdiYy1lbGVtZW50LXR5cGUnKSBlbGVtZW50VHlwZTogJ3N2ZycgfCAnaW1nJyB8ICdjYW52YXMnID0gJ3N2Zyc7XG4gICAgQElucHV0KCdiYy1jbGFzcycpIGNzc0NsYXNzID0gJ2JhcmNvZGUnOyAvLyB0aGlzIHNob3VsZCBiZSBkb25lIG1vcmUgZWxlZ2FudGx5XG5cbiAgICBASW5wdXQoJ2JjLWZvcm1hdCcpIGZvcm1hdDogJycgfCAnQ09ERTEyOCcgfCAnQ09ERTEyOEEnIHwgJ0NPREUxMjhCJyB8ICdDT0RFMTI4QycgfCAnRUFOMTMnIHwgJ1VQQycgfCAnRUFOOCcgfCAnRUFONScgfFxuICAgICdFQU4yJyB8ICdDT0RFMzknIHwgJ0lURjE0JyB8ICdNU0knIHwgJ01TSTEwJyB8ICdNU0kxMScgfCAnTVNJMTAxMCcgfCAnTVNJMTExMCcgfCAncGhhcm1hY29kZScgfCAnY29kYWJhcicgPSAnQ09ERTEyOCc7XG4gICAgQElucHV0KCdiYy1saW5lLWNvbG9yJykgbGluZUNvbG9yID0gJyMwMDAwMDAnO1xuICAgIEBJbnB1dCgnYmMtd2lkdGgnKSB3aWR0aCA9IDI7XG4gICAgQElucHV0KCdiYy1oZWlnaHQnKSBoZWlnaHQgPSAxMDA7XG4gICAgQElucHV0KCdiYy1kaXNwbGF5LXZhbHVlJykgZGlzcGxheVZhbHVlID0gZmFsc2U7XG4gICAgQElucHV0KCdiYy1mb250LW9wdGlvbnMnKSBmb250T3B0aW9ucyA9ICcnO1xuICAgIEBJbnB1dCgnYmMtZm9udCcpIGZvbnQgPSAnbW9ub3NwYWNlJztcbiAgICBASW5wdXQoJ2JjLXRleHQtYWxpZ24nKSB0ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBASW5wdXQoJ2JjLXRleHQtcG9zaXRpb24nKSB0ZXh0UG9zaXRpb24gPSAnYm90dG9tJztcbiAgICBASW5wdXQoJ2JjLXRleHQtbWFyZ2luJykgdGV4dE1hcmdpbiA9IDI7XG4gICAgQElucHV0KCdiYy1mb250LXNpemUnKSBmb250U2l6ZSA9IDIwO1xuICAgIEBJbnB1dCgnYmMtYmFja2dyb3VuZCcpIGJhY2tncm91bmQgPSAnI2ZmZmZmZic7XG4gICAgQElucHV0KCdiYy1tYXJnaW4nKSBtYXJnaW4gPSAxMDtcbiAgICBASW5wdXQoJ2JjLW1hcmdpbi10b3AnKSBtYXJnaW5Ub3AgPSAxMDtcbiAgICBASW5wdXQoJ2JjLW1hcmdpbi1ib3R0b20nKSBtYXJnaW5Cb3R0b20gPSAxMDtcbiAgICBASW5wdXQoJ2JjLW1hcmdpbi1sZWZ0JykgbWFyZ2luTGVmdCA9IDEwO1xuICAgIEBJbnB1dCgnYmMtbWFyZ2luLXJpZ2h0JykgbWFyZ2luUmlnaHQgPSAxMDtcbiAgICBASW5wdXQoJ2JjLXZhbHVlJykgdmFsdWUgPSAnJztcbiAgICBAVmlld0NoaWxkKCdiY0VsZW1lbnQnLCB7IHN0YXRpYzogdHJ1ZSB9KSBiY0VsZW1lbnQ6IEVsZW1lbnRSZWY7XG4gICAgQElucHV0KCdiYy12YWxpZCcpIHZhbGlkOiAoKSA9PiBib29sZWFuID0gKCkgPT4gdHJ1ZTtcblxuXG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmb3JtYXQ6IHRoaXMuZm9ybWF0LFxuICAgICAgICBsaW5lQ29sb3I6IHRoaXMubGluZUNvbG9yLFxuICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgZGlzcGxheVZhbHVlOiB0aGlzLmRpc3BsYXlWYWx1ZSxcbiAgICAgICAgZm9udE9wdGlvbnM6IHRoaXMuZm9udE9wdGlvbnMsXG4gICAgICAgIGZvbnQ6IHRoaXMuZm9udCxcbiAgICAgICAgdGV4dEFsaWduOiB0aGlzLnRleHRBbGlnbixcbiAgICAgICAgdGV4dFBvc2l0aW9uOiB0aGlzLnRleHRQb3NpdGlvbixcbiAgICAgICAgdGV4dE1hcmdpbjogdGhpcy50ZXh0TWFyZ2luLFxuICAgICAgICBmb250U2l6ZTogdGhpcy5mb250U2l6ZSxcbiAgICAgICAgYmFja2dyb3VuZDogdGhpcy5iYWNrZ3JvdW5kLFxuICAgICAgICBtYXJnaW46IHRoaXMubWFyZ2luLFxuICAgICAgICBtYXJnaW5Ub3A6IHRoaXMubWFyZ2luVG9wLFxuICAgICAgICBtYXJnaW5Cb3R0b206IHRoaXMubWFyZ2luQm90dG9tLFxuICAgICAgICBtYXJnaW5MZWZ0OiB0aGlzLm1hcmdpbkxlZnQsXG4gICAgICAgIG1hcmdpblJpZ2h0OiB0aGlzLm1hcmdpblJpZ2h0LFxuICAgICAgICB2YWxpZDogdGhpcy52YWxpZCxcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMikgeyB9XG5cbiAgICBuZ09uQ2hhbmdlcygpIHtcbiAgICAgIHRoaXMuY3JlYXRlQmFyY29kZSgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJhcmNvZGUoKSB7XG4gICAgICBpZiAoIXRoaXMudmFsdWUpIHsgcmV0dXJuOyB9XG4gICAgICBsZXQgZWxlbWVudDogRWxlbWVudDtcbiAgICAgIHN3aXRjaCAodGhpcy5lbGVtZW50VHlwZSkge1xuICAgICAgICBjYXNlICdpbWcnOlxuICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjYW52YXMnOlxuICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzdmcnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoJ3N2ZycsICdzdmcnKTtcbiAgICAgIH1cblxuICAgICAganNiYXJjb2RlKGVsZW1lbnQsIHRoaXMudmFsdWUsIHRoaXMub3B0aW9ucyk7XG5cbiAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLmJjRWxlbWVudC5uYXRpdmVFbGVtZW50LmNoaWxkTm9kZXMpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDaGlsZCh0aGlzLmJjRWxlbWVudC5uYXRpdmVFbGVtZW50LCBub2RlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy5iY0VsZW1lbnQubmF0aXZlRWxlbWVudCwgZWxlbWVudCk7XG5cbiAgICB9XG5cbiAgfVxuIl19